中国超算蝉联第一 媒体：高分低能 用不起来 面子工程
11月13日，新一期全球超级计算机500强榜单发布，中国超算“神威·太湖之光”和“天河二号”连续第四次分列冠亚军，且中国超算上榜总数又一次反超美国，夺得第一。不过，对于这个结果，有媒体提出不同的声音，并援引了外国专家的看法，认为“神威·太湖之光”是高分低能的超算。这种论调是否客观？我们来看看在该媒体的报道中有没有事实性错误。<img src="http://p3.pstatp.com/large/46da0005c1113a3eba08" img_width="596" img_height="490" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0"><strong>媒体报道并不客观</strong>该文章中称：“中国神威·太湖之光已经启用国产申威处理器，多核性能将达到了 Intel 至强 E5 主流产品的水平”。然而，这个说法是存在事实性错误的。将神威·太湖之光超算计算系统采用的申威26010处理器与Intel E5处理器拿来类比，是不妥当的。Intel的E5是一款服务器CPU，而申威26010是一款众核加速器，两者有各自针对的应用场景。即便要拿来类比，也应该算Intel的众核加速器对比申威26010，Intel的E5来对比申威1621。<img src="http://p1.pstatp.com/large/46db000419bf19456e9e" img_width="580" img_height="250" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">“多核性能将达到了 Intel 至强 E5 主流产品的水平”这种表述也是存在问题的。就科学计算最倚重的双精浮点性能而言，申威26010何止是将达到Intel E5，申威26010已经追平了Intel最好的超算加速器，而且还是在制造工艺落后2代的情况下实现的。此外，文章中其他的一些说法，也显示出作者对中国超算芯片技术进步的无知。<img src="http://p3.pstatp.com/large/46df0000358960eb49f2" img_width="300" img_height="285" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">文中称：飞腾的处理器算基于开源的SPARC架构。作者以 FT-1000、FT-1500 处理器用在互联网络，就诱导读者认为，飞腾的处理器无法用于计算节点上。然而，在天河2号的升级版中，飞腾自主设计的矩阵2000就已经用在计算节点上，而且完美替换了美国禁售的Intel超算加速器。更关键的是，采用了矩阵2000之后，天河2A的峰值性能提升了70%左右。<img src="http://p3.pstatp.com/large/46dc0003761c3d40b0f5" img_width="600" img_height="303" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">从上述内容可以看出，原文的作者对中国最新的技术成果非常无知，而且是在拿几年前的旧印象为标尺来衡量当今的中国。<img src="http://p1.pstatp.com/large/46de00005d53472cca28" img_width="600" img_height="400" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">神威·太湖之光，图源：VCG<strong>HPCG到底是什么</strong>文中还援引了外媒的报道：IEEE 高级编辑 David Schneider 发表了自己的看法，认为现在的 LINPACK 排名标准存在问题，并不能反映真实情况。按照 HPCG（High Performance Conjugate Gradients） 标准，“神威·太湖之光”仅仅只能排名第五，日本富士通的“K Computer”排名第一。<img src="http://p3.pstatp.com/large/46de00005ef6a023a266" img_width="730" img_height="411" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">来看看国外专家的原话说了啥：我没有统计数据来支持我的观点，但是我怀疑这个分布会更接近书架的 HPCG 一侧，即根据 HPCG 基准的测试结果更接近真实世界的情况。如果这是真的，也许 TOP500 组织应该使用 HPCG 来对超级计算机进行排名。事实正如这位专家说的：“我没有统计数据来支持我的观点”。HPCG是美国正在推的一个新测试标准，目前还没有被业界广泛接受。现在评价超算主要有TOP500、Graph500、Green500等几个排行榜。TOP500就强调Linpack，Graph500则强调内存带宽和延迟，Green500强调节能环保。<img src="http://p3.pstatp.com/large/46e0000015826c191d85" img_width="600" img_height="387" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">在几个测试中，“神威·太湖之光”的表现都比较好，TOP500名列第一，Graph500名列第二。那么，这位国外专家推崇的HPCG到底是什么呢？HPCG代表了共轭梯度迭代法的一类应用的计算和通信特征，仅仅代表了某一个方面的特征，并不能涵盖超算的所有特征。HPCG比较重视计算性能和通信的平衡。然而，世界上并不存在完美的考评标准，HPCG本身也是存在缺陷的，由于针对具体硬件结构修改共轭梯度算法很容易得到高得多的成绩，为了避免这一点，HPCG代码目前还在锁定状态，不准修改算法本身。但在使用中，用户是会修改算法的，这使得这测试会脱离实际。<img src="http://p3.pstatp.com/large/46dc000375bc7bb19333" img_width="605" img_height="330" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">因此，所谓的“HPCG 基准的测试结果更接近真实世界的情况”本身就是纸上谈兵。此外，由于HPCG比较重视计算性能和通信的平衡，直接导致HPCG测试对“万精油”超算比较友好，哪怕这台超算在计算性能和通信上都比较一般。比如日本超算京就是这方面的典型。而神威太湖之光则算那种计算性能和通信都很强，只不过计算性能强过通信很多很多，这就造成计算和通信的不平衡，而HPCG对于“神威·太湖之光”这种计算和通信的不平衡的超算非常不友好。这也是“神威·太湖之光”的HPCG测试成绩一般的根源。<img src="http://p3.pstatp.com/large/46da0005c442cec959f0" img_width="872" img_height="307" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">就实际使用来看，确实有一些应用，会让“神威·太湖之光”跑起来效率低一些。但是像超算这种国家级工程在建设之初就是有具体针对性的。就计划在“神威·太湖之光”上跑的大部分应用而已，“神威·太湖之光”是再合适不过了。<strong>“神威·太湖之光”是一台非常实用的机器</strong>国外专家的质疑和媒体的报道潜台词，就是“神威·太湖之光”是一台高分低能，或者只能用来跑分的机器。但实际上，只要关注新闻，就能明白这是彻头彻尾的谎言。在去年，借助“神威•太湖之光”强悍的计算性能，“千万核可扩展大气动力学全隐式模拟”应用项目获得了 戈登·贝尔奖，这是超级计算机应用领域最高奖。在今年，又有两篇基于“神威·太湖之光”的论文入围“戈登贝尔奖”终选名单，占入围论文总数的 2/3。<img src="http://p3.pstatp.com/large/46df0000380a1aea25a5" img_width="550" img_height="366" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">对于一些媒体宣称的中国超算计算资源大量闲置，其实也是无稽之谈。据业内人士介绍：中国超算虽然多，性能虽然强，但商业用途的超算偏多，科研用途的超算偏少，目前超算明显不够用。特别是在人均超算资源这项指标上，明显不如欧美。<img src="http://p3.pstatp.com/large/46df000037da645f3855" img_width="658" img_height="435" alt="中国超算蝉联第一 媒体：高分低能 用不起来 面子工程" inline="0">另外，在媒体报道中被贬低——认为只是跑分的Linpack并非仅仅算“不服跑个分”，而是真正具有实际价值的测试。Linpack指的是矩阵求解，像辐射流体力学、核爆炸模拟、雷达截面的矩量法计算、深度学习算法等很多科学计算模型都包含了矩阵求解。这也是为何TOP500会以Linpack为标准进行排名。令人期待的是，当明年美国的新超算问世时，以其比神威太湖之光更高的Linpack成绩问鼎TOP500榜首的时候，是否会有专家和媒体跳出来宣称：“现在的 LINPACK 排名标准存在问题，并不能反映真实情况”，“TOP500 组织应该使用 HPCG 来对超级计算机进行排名”。